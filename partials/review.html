<!--This page pops up after the search so that authorised user can see name and the description of the class-->
<!--and also leave a review-->

<!--CLASS NAME-->


<!--CLASS DESCRIPTION-->
<div class="pageWrap">

    <!--SEARCH-->
<!--     <div class="searchBar pull-right">
        <input type="text" ng-model="search"/>
        <div ng-repeat="review in reviews | filter:search "> </div>
        </div>
    </div> -->

    </div>
    </ul>

    <!--REVIEW-->
    <div class="container">
        <div class="col-lg-6 col-md-6 col-sm-6">
            <h1>{{ClassName}}</h1>
            <h3>@ <b>{{Institution.INSTNM}}</b></h3>
            <h4>Address: {{Institution.ADDR}} {{Institution.CITY}} {{Institution.STABBR}} {{Institution.ZIP}}</h4>
            <h4><a href="https://{{Institution.WEBADDR}}">Official Site</a></h4>
            <button type="submit" class = "btn btn-primary" ng-click="addReview()" ng-show="userVerified">Add New Comment</button> 
        </div>  
        <div class="col-lg-6 col-md-6 col-sm-6">
            <br>
            <div id="partialHead"></div>

            <div>
            <leaflet markers="markers" center="osloCenter" width="100%" height="250px"></leaflet>
            </div>
        </div>
    </div>

    <hr>


    <!-- Show everyone's reviews -->
    <!-- Use ng-repeat directive to repeat a div for each element in reviews -->
    <!-- order by time -->

    <div class="review-box" ng-repeat="review in reviews | filter: {className:ClassName, school: SchoolName}:true | orderBy:'-time'">
            <div class="review-item">
                <!--<div class="star">-->
                    <uib-rating class="star" ng-model="review.star" max="max" readonly="!isReadonly" aria-labelledby="custom-icons-1"
                                state-off="'glyphicon glyphicon-star-empty'"
                                state-on="'glyphicon glyphicon-star'" id="starReview"></uib-rating>
                <!--</div>-->
                <div class="time">{{review.time | date:'short'}}</div><br>
                <div class="col-xs-12 col-sm-4 col-md-4" id="ratings">
                    <span class="details">Workload: {{review.workload}}</span><br>
                    <span class="details">Helpfulness: {{review.helpfulness}}</span><br>
                    <span class="details">Easiness: {{review.easiness}}</span><br>
                    <span class="details">Professor: {{review.prof}}</span><br>
                    <span class="details">Quarter: {{review.quarter}} </span><br>
                    <span class="details">Average GPA: {{review.gpa}}</span><br>
                </div>
                <div class="col-sm-6" name="comment">{{review.text}}</div>
                <i class="fa fa-cog" id="editReviewButton" ng-show="review.user == ID" ng-click="editReview(review)"></i>
                <div class="col-xs-12 col-sm-6 col-md-6" name="comment">{{review.text}}</div>
                <div class="col-xs-12 col-sm-2 col-md-2">
                <i class="fa fa-pencil-square-o edit" ng-show="review.user == ID" ng-click="editReview(review)">Edit Review</i>
                </div>

            </div>
    </div>
<!-- end shown results -->
</div>
